<!doctype html>
<html ng-app="hashtalk">

<head>
	<meta charset="utf-8">
	<title>HashTalk</title>
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/style.css">
	<!--<script data-main="js/main" src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular.min.js"></script>
	<link rel="shortcut icon" type="image/png" href="img/favicon.png">
	<link rel="apple-touch-icon" href="img/favicon.png">
</head>

<body data-ng-controller="HTCtrl">
	<nav class="navbar navbar-ht">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="#">HashTalk</a>
		</div>
		<div class="collapse navbar-collapse">
			<form class="navbar-form form-inline navbar-right" role="search">
				<div class="form-group">
					<div class="input-group">
						<span class="input-group-addon">#</span>
						<input type="text" id="hashtag" class="form-control" data-ng-model="search.hashtag" placeholder="Hashtag">
					</div>
				</div>
				<div class="form-group">
					<div class="input-group">
						<span class="input-group-addon">@</span>
						<input type="text" id="pseudo" class="form-control" data-ng-model="search.pseudo" placeholder="Pseudo">
					</div>
				</div>
			</form>
		</div>
	</nav>
	<div class="col-md-10 col-md-offset-1 well">
		<p ng-cloak data-ng-repeat="message in messages | orderByPriority | filter:search:strict" data-ng-init="message.msg = format(message.msg)">
			<a href="" data-pseudo="{{message.pseudo[0]}}">{{message.pseudo[0]}}</a>:
			<span ng-bind-html="message.msg"></span>
			<a data-ng-if="message.hashtag[0]" class="label label-primary" ng-click="search.hashtag = message.hashtag[0]" href="#">#{{message.hashtag[0]}}</a>
		</p>
	</div>
	<div class="col-lg-2 well hidden">
		<p>Pseudos</p>
	</div>
	<form name="postForm" class="col-md-10 col-md-offset-1 form-inline" role="form" data-ng-submit="submit()">
		<div class="form-group" data-ng-class="{'has-error': !postForm.pseudo.$valid}">
			<label class="sr-only" for="pseudo">Pseudo</label>
			<input data-ng-change="setPseudo()" type="text" name="pseudo" class="form-control" id="pseudo" data-ng-model="pseudo" placeholder="Pseudo" required/>
		</div>
		<div class="form-group" data-ng-class="{'has-error': !postForm.msg.$valid}">
			<label class="sr-only" for="msg">Pseudo</label>
			<input type="text" class="form-control" name="msg" id="msg" data-ng-model="msg" placeholder="Message" required/>
		</div>
		<input type="submit" class="btn btn-primary" value="Envoyer" />
	</form>
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="//cdn.firebase.com/v0/firebase.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular-sanitize.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular-route.js"></script>
	<script src="//cdn.firebase.com/libs/angularfire/0.5.0/angularfire.min.js"></script>
	<script src="/js/app/app.js"></script>
</body>

</html>
